<!-- Página de Checkout - checkout.html -->
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finalizar Pedido | Bluestore</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="estilos.css">
</head>

<body class="checkout-body">
  <!-- Header -->
  <header class="checkout-header">
    <div class="checkout-header-container">
      <h1 class="checkout-header-title">Bluestore</h1>
      <a href="index.html" class="checkout-header-link">Início</a>
    </div>
  </header>

  <!-- Checkout -->
  <main class="checkout-main">
    <h2 class="checkout-title">Revisão e Finalização do Pedido</h2>

    <section class="checkout-section">
      <h3 class="checkout-section-title">Itens no Pedido</h3>
      <div id="orderSummary" class="checkout-order-summary">
        <!-- Itens do pedido inseridos via JavaScript -->
      </div>
      <p class="checkout-total">Total: R$ <span id="finalTotal">0.00</span></p>
    </section>

    <section class="checkout-section">
      <h3 class="checkout-section-title">Informações do Cliente</h3>
      <form id="checkoutForm" class="checkout-form">
        <input type="text" name="nome" placeholder="Nome completo" required class="checkout-input" />
        <input type="email" name="email" placeholder="E-mail" required class="checkout-input" />
        <textarea name="endereco" placeholder="Endereço completo" required rows="4" class="checkout-textarea"></textarea>
        <button type="submit" class="checkout-button">Confirmar Pedido</button>
      </form>
    </section>

    <div id="mensagemFinal" class="checkout-mensagem hidden">
      Pedido realizado com sucesso! Obrigado por comprar na <span class="checkout-mensagem-destaque">Bluestore</span>.
    </div>
  </main>

  <!-- Footer -->
  <footer class="checkout-footer">
    <p>&copy; 2025 Bluestore. Todos os direitos reservados.</p>
  </footer>

  <script>
    const produtos = [
      { id: 1, nome: "Tênis Azul", preco: 199.99 },
      { id: 2, nome: "Camisa Polo", preco: 89.90 }
    ];

    const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
    const orderSummary = document.getElementById("orderSummary");
    const finalTotal = document.getElementById("finalTotal");
    const checkoutForm = document.getElementById("checkoutForm");
    const mensagemFinal = document.getElementById("mensagemFinal");

    let total = 0;
    carrinho.forEach(item => {
      const produto = produtos.find(p => p.id === item.id);
      if (produto) {
        const subtotal = produto.preco * item.qtd;
        total += subtotal;
        const div = document.createElement("div");
        div.className = "checkout-order-item";
        div.innerHTML = `
          <span>${produto.nome} (x${item.qtd})</span>
          <span class="checkout-order-price">R$ ${subtotal.toFixed(2)}</span>
        `;
        orderSummary.appendChild(div);
      }
    });
    finalTotal.textContent = total.toFixed(2);

    checkoutForm.addEventListener("submit", function (e) {
      e.preventDefault();
      localStorage.removeItem("carrinho");
      checkoutForm.reset();
      mensagemFinal.classList.remove("hidden");
      orderSummary.innerHTML = "";
      finalTotal.textContent = "0.00";
    });
  </script>
</body>

</html>
